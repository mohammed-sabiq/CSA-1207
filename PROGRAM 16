LXI H,8050H
MOV C,M
DCR C
LOOP1: LXI H,8051H
MOV B,C
LOOP2: MOV A,M
INX H
CMP M
JC SKIP
MOV D,M
MOV M,A
INX H
MOV M,D
SKIP: DCR B
JNZ LOOP2
DCR C
JNZ LOOP1
HLT